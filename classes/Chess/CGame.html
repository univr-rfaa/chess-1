<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Chess::CGame</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            Chess::CGame 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/ext/chess_c.html">ext/chess.c</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>This class rappresents a collection of boards of a single chess game.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-5B-5D">[]</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-board">board</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-current">current</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-draw">draw</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-each">each</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-full_moves">full_moves</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-move">move</a>,
              </li>
            
              
              <li>
                <a href="#method-i-move2">move2</a>,
              </li>
            
              
              <li>
                <a href="#method-i-move3">move3</a>,
              </li>
            
              
              <li>
                <a href="#method-i-moves">moves</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-resign">resign</a>,
              </li>
            
              
              <li>
                <a href="#method-i-result">result</a>,
              </li>
            
              
              <li>
                <a href="#method-i-rollback-21">rollback!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-set_fen-21">set_fen!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-size">size</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-threefold_repetition-3F">threefold_repetition?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D">
            
              <b>[n]
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-5B-5D" name="method-i-5B-5D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the <code>n</code>-th <a href="Board.html">Board</a> of the <a
href="Game.html">Game</a> or <code>nil</code> if the <code>n</code>-th <a
href="Board.html">Board</a> does not exist.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-5B-5D_source')" id="l_method-i-5B-5D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D_source" class="dyn-source">
                <pre>VALUE
game_boards (VALUE self, VALUE index)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  int n = FIX2INT (index);
  Board *board = get_board (g, n);
  if (board)
    return Data_Wrap_Struct (board_klass, 0, 0, board);
  return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-board">
            
              <b>board</b>()
            
            <a href="../../classes/Chess/CGame.html#method-i-board" name="method-i-board" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
            <div class="aka">
              Alias for: <a href="CGame.html#method-i-current">current</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-current">
            
              <b>current
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-current" name="method-i-current" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the current <a href="Board.html">Board</a> of the <a
href="Game.html">Game</a> (the current chess position of the game).</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="CGame.html#method-i-board">board</a>
            </div>
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-current_source')" id="l_method-i-current_source">show</a>
                
              </p>
              <div id="method-i-current_source" class="dyn-source">
                <pre>VALUE
game_current_board (VALUE self)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  return game_boards (self, INT2FIX (g-&gt;current-1));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-draw">
            
              <b>draw
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-draw" name="method-i-draw" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The game result is set to draw.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-draw_source')" id="l_method-i-draw_source">show</a>
                
              </p>
              <div id="method-i-draw_source" class="dyn-source">
                <pre>VALUE
game_draw (VALUE self)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  g-&gt;result = DRAW;
  return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-each">
            
              <b>each { |board, move, full_move, index| block }
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-each" name="method-i-each" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Calls <code>block</code> once for each <code>board</code> in self, passing
that <code>board</code>, <code>move</code>, <code>full_move</code> and
<code>index</code> as parameters. Return self. If no block is given, the
array of game moves is returned instead.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-each_source')" id="l_method-i-each_source">show</a>
                
              </p>
              <div id="method-i-each_source" class="dyn-source">
                <pre>VALUE
game_each (VALUE self)
{
  if (!rb_block_given_p ())
    return game_moves(self);
  int i;
  Game *g;
  Data_Get_Struct (self, Game, g);
  for (i = 0; i &lt; g-&gt;current; i++)
    rb_yield_values (4, Data_Wrap_Struct (board_klass, 0, 0, get_board (g, i)),
                     rb_str_new2 (g-&gt;moves[i]), rb_str_new2 (g-&gt;full_moves[i]),
                     INT2FIX (i));
  return self;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-full_moves">
            
              <b>full_moves
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-full_moves" name="method-i-full_moves" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the array with all full moves done <em>(es: b1c3)</em>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-full_moves_source')" id="l_method-i-full_moves_source">show</a>
                
              </p>
              <div id="method-i-full_moves_source" class="dyn-source">
                <pre>VALUE
game_full_moves (VALUE self)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  int i;
  VALUE moves = rb_ary_new ();
  for (i = 0; i &lt; g-&gt;current; i++)
    rb_ary_push (moves, rb_str_new2 (g-&gt;full_moves[i]));
  return moves;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-move">
            
              <b>move(piece, disambiguating, to_coord, promote_in)
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-move" name="method-i-move" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Make a move. This add a new <a href="Board.html">Board</a> in the <a
href="Game.html">Game</a>.</p>

<p>Parameters are:</p>
<dl class="rdoc-list note-list"><dt>piece
<dd>
<p>the character of the moving piece <em>(&#39;P&#39;, &#39;R&#39;,
&#39;N&#39;, &#39;B&#39;, &#39;Q&#39;, &#39;K&#39;)</em>.</p>
</dd><dt><code>disambiguating</code>
<dd>
<p>when two (or more) identical pieces can move to the same square, the moving
piece is uniquely identified by specifying the piece&#39;s letter, followed
by (in descending order of preference):</p>
<ol><li>
<p>the file of departure (if they differ); or</p>
</li><li>
<p>the rank of departure (if the files are the same but the ranks differ); or</p>
</li><li>
<p>both the rank and file (if neither alone is sufficient to identify the
piece—which occurs only in rare cases where one or more pawns have
promoted, resulting in a player having three or more identical pieces able
to reach the same square).</p>
</li></ol>

<p>Keep blank if no needed.</p>
</dd><dt><code>to_coord</code>
<dd>
<p>the square where the moving piece will <em>(&#39;a1&#39;, &#39;a2&#39;, … ,
&#39;h7&#39;, &#39;h8&#39;)</em>.</p>
</dd><dt><code>promote_in</code>
<dd>
<p>the character of promotion piece <em>(&#39;R&#39;, &#39;N&#39;,
&#39;B&#39;, &#39;Q&#39;)</em>. If no promotion occured, this param will be
ignored.</p>
</dd></dl>

<p>This method returns a string that represents the short algebraic chess
notation of the move or raise an <a
href="IllegalMoveError.html">IllegalMoveError</a> if the move is illegal.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-move_source')" id="l_method-i-move_source">show</a>
                
              </p>
              <div id="method-i-move_source" class="dyn-source">
                <pre>VALUE
game_move (VALUE self, VALUE rb_piece, VALUE rb_disambiguating, VALUE rb_to_coord, VALUE rb_promote_in)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  Board *board = current_board (g);
  char piece = StringValuePtr (rb_piece)[0];
  char *disambiguating = StringValuePtr (rb_disambiguating);
  char *to_coord = StringValuePtr (rb_to_coord);
  char promote_in = StringValuePtr (rb_promote_in)[0];
  int from, to;
  get_coord (board, piece, disambiguating, to_coord, promote_in, &amp;from, &amp;to);
  // printf (&quot;From: %d, To: %d, Promo: %c\n&quot;, from , to , promote_in);
  if (pseudo_legal_move (board, from, to) &amp;&amp; apply_move (g, from, to, promote_in))
    return rb_str_new2 (current_move (g));
  else
    rb_raise (illegal_move_error, &quot;Illegal move&quot;);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-move2">
            
              <b>move2(from, to, promote_in)
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-move2" name="method-i-move2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Make a move. This add a new <a href="Board.html">Board</a> in the <a
href="Game.html">Game</a>.</p>

<p>Parameters are:</p>
<dl class="rdoc-list note-list"><dt>from
<dd>
<p>the 2 character string representing the starting square of the moving piece
<em>(&#39;a1&#39;, &#39;a2&#39;, … , &#39;h7&#39;, &#39;h8&#39;)</em>.</p>
</dd><dt><code>to</code>
<dd>
<p>the 2 character string representing the ending square of the moving piece
<em>(&#39;a1&#39;, &#39;a2&#39;, … , &#39;h7&#39;, &#39;h8&#39;)</em>.</p>
</dd><dt><code>promote_in</code>
<dd>
<p>the character of promotion piece <em>(&#39;R&#39;, &#39;N&#39;,
&#39;B&#39;, &#39;Q&#39;)</em>. If no promotion occured, this param will be
ignored.</p>
</dd></dl>

<p>This method returns a string that represents the short algebraic chess
notation of the move or raise an <a
href="IllegalMoveError.html">IllegalMoveError</a> if the move is illegal.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-move2_source')" id="l_method-i-move2_source">show</a>
                
              </p>
              <div id="method-i-move2_source" class="dyn-source">
                <pre>VALUE
game_move2 (VALUE self, VALUE rb_from, VALUE rb_to, VALUE rb_promote_in)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  Board *board = current_board (g);
  int from = coord_to_square (StringValuePtr (rb_from));
  int to = coord_to_square (StringValuePtr (rb_to));
  char promote_in = StringValuePtr (rb_promote_in)[0];
  if (pseudo_legal_move (board, from, to) &amp;&amp; apply_move (g, from, to, promote_in))
    return rb_str_new2 (current_move (g));
  else
    rb_raise (illegal_move_error, &quot;Illegal move&quot;);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-move3">
            
              <b>move3(from, to, promote_in)
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-move3" name="method-i-move3" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Make a move. This add a new <a href="Board.html">Board</a> in the <a
href="Game.html">Game</a>.</p>

<p>Each square on the chessboard is represented by an integer according to the
following scheme:</p>

<pre><code>8 | 56 57 58 59 60 61 62 63
7 | 48 49 50 51 52 53 54 55
6 | 40 41 42 43 44 45 46 47
5 | 32 33 34 35 36 37 38 39
4 | 24 25 26 27 28 29 30 31
3 | 16 17 18 19 20 21 22 23
2 |  8  9 10 11 12 13 14 15
1 |  0  1  2  3  4  5  6  7
  +-------------------------
     a  b  c  d  e  f  g  h</code></pre>

<p>Parameters are:</p>
<dl class="rdoc-list note-list"><dt><code>from</code>
<dd>
<p>the integer representing the starting square of the moving piece.</p>
</dd><dt><code>to</code>
<dd>
<p>the integer representing the ending square of the moving piece.</p>
</dd><dt><code>promote_in</code>
<dd>
<p>the character of promotion piece <em>(&#39;R&#39;, &#39;N&#39;,
&#39;B&#39;, &#39;Q&#39;)</em>. If no promotion occured, this param will be
ignored.</p>
</dd></dl>

<p>This method returns a string that represents the short algebraic chess
notation of the move or raise an <a
href="IllegalMoveError.html">IllegalMoveError</a> if the move is illegal.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-move3_source')" id="l_method-i-move3_source">show</a>
                
              </p>
              <div id="method-i-move3_source" class="dyn-source">
                <pre>VALUE
game_move3 (VALUE self, VALUE rb_from, VALUE rb_to, VALUE rb_promote_in)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  Board *board = current_board (g);
  int from = FIX2INT (rb_from);
  int to = FIX2INT (rb_to);
  char promote_in = StringValuePtr (rb_promote_in)[0];
  if (pseudo_legal_move (board, from, to) &amp;&amp; apply_move (g, from, to, promote_in))
    return rb_str_new2 (current_move (g));
  else
    rb_raise (illegal_move_error, &quot;Illegal move&quot;);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-moves">
            
              <b>moves
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-moves" name="method-i-moves" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the array with all moves done <em>(es: Nc3)</em>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-moves_source')" id="l_method-i-moves_source">show</a>
                
              </p>
              <div id="method-i-moves_source" class="dyn-source">
                <pre>VALUE
game_moves (VALUE self)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  int i;
  VALUE moves = rb_ary_new ();
  for (i = 0; i &lt; g-&gt;current; i++)
    rb_ary_push (moves, rb_str_new2 (g-&gt;moves[i]));
  return moves;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-resign">
            
              <b>resign(color)
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-resign" name="method-i-resign" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The game result is set to &#39;1-0&#39; if <code>color</code> is “black”,
otherwise is set to &#39;0-1&#39; if color is “white”.</p>

<p>Parameters are:</p>
<dl class="rdoc-list note-list"><dt><code>color</code>
<dd>
<p>the color of the player who resigns the game; it can be <code>:white</code>
or <code>:black</code>.</p>
</dd></dl>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-resign_source')" id="l_method-i-resign_source">show</a>
                
              </p>
              <div id="method-i-resign_source" class="dyn-source">
                <pre>VALUE
game_resign (VALUE self, VALUE color)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  const char *c;
  if (TYPE (color) == T_SYMBOL)
    c = rb_id2name (SYM2ID (color));
  else
    c = StringValuePtr (color);
  if (strcmp (c, &quot;black&quot;) == 0)
    g-&gt;result = WHITE_WON;
  else if (strcmp (c, &quot;white&quot;) == 0)
    g-&gt;result = BLACK_WON;
  return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-result">
            
              <b>result
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-result" name="method-i-result" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the result of the game:</p>
<dl class="rdoc-list note-list"><dt>*
<dd>
<p>game in progress;</p>
</dd><dt>1-0
<dd>
<p>white won;</p>
</dd><dt>0-1
<dd>
<p>black won;</p>
</dd><dt>1/2-1/2
<dd>
<p>draw</p>
</dd></dl>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-result_source')" id="l_method-i-result_source">show</a>
                
              </p>
              <div id="method-i-result_source" class="dyn-source">
                <pre>VALUE
game_result (VALUE self)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  char *result = result_to_s (g-&gt;result);
  VALUE rb_result = rb_str_new2 (result);
  free (result);
  return rb_result;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rollback-21">
            
              <b>rollback!
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-rollback-21" name="method-i-rollback-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Rollback last move.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-rollback-21_source')" id="l_method-i-rollback-21_source">show</a>
                
              </p>
              <div id="method-i-rollback-21_source" class="dyn-source">
                <pre>VALUE
game_rollback (VALUE self)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  rollback (g);
  return self;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-set_fen-21">
            
              <b>set_fen!(fen)
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-set_fen-21" name="method-i-set_fen-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Set the game position with a FEN string.</p>

<p>Parameters are:</p>
<dl class="rdoc-list note-list"><dt>fen
<dd>
<p>the FEN (Forsyth–Edwards Notation) string notation used to set the game
position.</p>
</dd></dl>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-set_fen-21_source')" id="l_method-i-set_fen-21_source">show</a>
                
              </p>
              <div id="method-i-set_fen-21_source" class="dyn-source">
                <pre>VALUE
game_set_fen (VALUE self, VALUE fen)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  set_fen (g, StringValuePtr (fen));
  return self;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-size">
            
              <b>size
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-size" name="method-i-size" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the number of moves done.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-size_source')" id="l_method-i-size_source">show</a>
                
              </p>
              <div id="method-i-size_source" class="dyn-source">
                <pre>VALUE
game_size (VALUE self)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  return INT2FIX (g-&gt;current);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-threefold_repetition-3F">
            
              <b>threefold_repetition?
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-threefold_repetition-3F" name="method-i-threefold_repetition-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> if a player can claim draw by the threefold
repetition rule, <code>false</code> otherwise.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-threefold_repetition-3F_source')" id="l_method-i-threefold_repetition-3F_source">show</a>
                
              </p>
              <div id="method-i-threefold_repetition-3F_source" class="dyn-source">
                <pre>VALUE
game_threefold_repetition (VALUE self)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  if (threefold_repetition (g))
    return Qtrue;
  else
    return Qfalse;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <b>to_s
</b>
            
            <a href="../../classes/Chess/CGame.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Current board to string.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre>VALUE
game_to_s (VALUE self)
{
  Game *g;
  Data_Get_Struct (self, Game, g);
  Board *b = get_board (g, g-&gt;current-1);
  char *s = print_board (b);
  VALUE rb_s = rb_str_new2 (s);
  free (s);
  return rb_s;
}</pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    